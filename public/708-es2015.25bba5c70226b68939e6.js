"use strict";(self.webpackChunkadminpro=self.webpackChunkadminpro||[]).push([[708],{10708:function(e,t,i){i.r(t),i.d(t,{ChildRoutesModule:function(){return ze}});var s=i(60476);let r=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(e,t){1&e&&(s.TgZ(0,"p"),s._uU(1,"dashboard works!"),s.qZA())},styles:[""]}),e})();var n=i(38583),o=i(93092);const a=function(e){return{"is-invalid":e}};let c=(()=>{class e{constructor(){this.progress=40,this.btnClass="btn btn-primary",this.valueOutput=new s.vpe}ngOnInit(){this.btnClass=`btn ${this.btnClass}`}ChangeValue(e){return this.progress>=100&&e>=0?(this.valueOutput.emit(100),this.progress=100):this.progress<=0&&e<0?(this.valueOutput.emit(0),this.progress=0):(this.progress=this.progress+e,void this.valueOutput.emit(this.progress))}onChange(e){this.progress=e>=100?100:e<=0?0:e,this.valueOutput.emit(this.progress)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-increaser"]],inputs:{progress:["value","progress"],btnClass:"btnClass"},outputs:{valueOutput:"value"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"ngClass","click"],[1,"fa","fa-minus"],["type","number","placeholder","Progress","min","0","max","100",1,"form-control",3,"ngClass","ngModel","ngModelChange"],[1,"fa","fa-plus"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"span",1),s.TgZ(2,"button",2),s.NdJ("click",function(){return t.ChangeValue(-5)}),s._UZ(3,"i",3),s.qZA(),s.qZA(),s.TgZ(4,"input",4),s.NdJ("ngModelChange",function(e){return t.onChange(e)})("ngModelChange",function(e){return t.progress=e}),s.qZA(),s.TgZ(5,"span",1),s.TgZ(6,"button",2),s.NdJ("click",function(){return t.ChangeValue(5)}),s._UZ(7,"i",5),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("ngClass",t.btnClass),s.xp6(2),s.Q6J("ngClass",s.VKq(4,a,t.progress>100||t.progress<0))("ngModel",t.progress),s.xp6(2),s.Q6J("ngClass",t.btnClass))},directives:[n.mk,o.qQ,o.Fd,o.wV,o.Fj,o.JJ,o.On],styles:[""]}),e})(),l=(()=>{class e{constructor(){this.progress1=25,this.progress2=35}get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-progress"]],decls:23,vars:7,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","10px"],[1,"sr-only"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped","active",2,"height","10px"],[1,"col-6"],[3,"value"],[3,"value","btnClass"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Striped Progress bar"),s.qZA(),s.TgZ(6,"div",5),s.TgZ(7,"div",6),s.TgZ(8,"span",7),s._uU(9," 85% Complete (success) "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(10,"div",5),s.TgZ(11,"div",8),s.TgZ(12,"span",7),s._uU(13," 85% Complete (success) "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(14,"div",0),s.TgZ(15,"div",9),s.TgZ(16,"div",2),s.TgZ(17,"div",3),s.TgZ(18,"app-increaser",10),s.NdJ("value",function(e){return t.progress1=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(19,"div",9),s.TgZ(20,"div",2),s.TgZ(21,"div",3),s.TgZ(22,"app-increaser",11),s.NdJ("value",function(e){return t.progress2=e}),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(7),s.Udp("width",t.getProgress1),s.xp6(4),s.Udp("width",t.getProgress2),s.xp6(7),s.Q6J("value",t.progress1),s.xp6(4),s.Q6J("value",t.progress2)("btnClass","btn-info"))},directives:[c],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{-webkit-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:myanimation;transition:5s all}@-webkit-keyframes myanimation{0%{width:0}}@keyframes myanimation{0%{width:0}}"]}),e})();var u=i(86178);let d=(()=>{class e{constructor(){this.title="No Title",this.labels=["Label1","Label2","Label3"],this.data=[[1,1,1]],this.colors=[{backgroundColor:["#6857E6","#009FEE","#F02059"]}]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-donut"]],inputs:{title:"title",labels:"labels",data:"data"},decls:6,vars:4,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","","chartType","doughnut",3,"data","labels","colors"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"h3"),s._uU(3),s.qZA(),s.TgZ(4,"div",2),s._UZ(5,"canvas",3),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Oqu(t.title),s.xp6(2),s.Q6J("data",t.data)("labels",t.labels)("colors",t.colors))},directives:[u.jh],styles:[""]}),e})(),g=(()=>{class e{constructor(){this.labels1=["Download Sales","In-Store Sales","Mail-Order Sales"],this.data1=[[350,450,100]],this.title="Sales"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-graph1"]],decls:10,vars:3,consts:[[1,"row"],[1,"col-6"],[3,"title"],["title","Purchases",3,"labels","data"],["title","Providers"],["title","Bills"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s._UZ(2,"app-donut",2),s.qZA(),s.TgZ(3,"div",1),s._UZ(4,"app-donut",3),s.qZA(),s.qZA(),s.TgZ(5,"div",0),s.TgZ(6,"div",1),s._UZ(7,"app-donut",4),s.qZA(),s.TgZ(8,"div",1),s._UZ(9,"app-donut",5),s.qZA(),s.qZA()),2&e&&(s.xp6(2),s.Q6J("title",t.title),s.xp6(2),s.Q6J("labels",t.labels1)("data",t.data1))},directives:[d],styles:[""]}),e})();var h=i(70452);let p=(()=>{class e{constructor(e){this.settingsService=e}ngOnInit(){}ngAfterViewInit(){this.settingsService.checkCurrentTheme()}changeTheme(e){this.settingsService.changeTheme(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(h.g))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-account-settings"]],decls:50,vars:0,consts:[[1,"row"],[1,"col-5"],[1,"card"],[1,"card-body"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4"),s._uU(5,"Select a theme"),s.qZA(),s.TgZ(6,"div",4),s.TgZ(7,"ul",5),s.TgZ(8,"li"),s.TgZ(9,"b"),s._uU(10,"Con el sidebar claro"),s.qZA(),s.qZA(),s.TgZ(11,"li"),s.TgZ(12,"a",6),s.NdJ("click",function(){return t.changeTheme("default")}),s._uU(13,"1"),s.qZA(),s.qZA(),s.TgZ(14,"li"),s.TgZ(15,"a",7),s.NdJ("click",function(){return t.changeTheme("green")}),s._uU(16,"2"),s.qZA(),s.qZA(),s.TgZ(17,"li"),s.TgZ(18,"a",8),s.NdJ("click",function(){return t.changeTheme("red")}),s._uU(19,"3"),s.qZA(),s.qZA(),s.TgZ(20,"li"),s.TgZ(21,"a",9),s.NdJ("click",function(){return t.changeTheme("blue")}),s._uU(22,"4"),s.qZA(),s.qZA(),s.TgZ(23,"li"),s.TgZ(24,"a",10),s.NdJ("click",function(){return t.changeTheme("purple")}),s._uU(25,"5"),s.qZA(),s.qZA(),s.TgZ(26,"li"),s.TgZ(27,"a",11),s.NdJ("click",function(){return t.changeTheme("megna")}),s._uU(28,"6"),s.qZA(),s.qZA(),s.TgZ(29,"li",12),s.TgZ(30,"b"),s._uU(31,"Con el sidebar oscuro"),s.qZA(),s.qZA(),s.TgZ(32,"li"),s.TgZ(33,"a",13),s.NdJ("click",function(){return t.changeTheme("default-dark")}),s._uU(34,"7"),s.qZA(),s.qZA(),s.TgZ(35,"li"),s.TgZ(36,"a",14),s.NdJ("click",function(){return t.changeTheme("green-dark")}),s._uU(37,"8"),s.qZA(),s.qZA(),s.TgZ(38,"li"),s.TgZ(39,"a",15),s.NdJ("click",function(){return t.changeTheme("red-dark")}),s._uU(40,"9"),s.qZA(),s.qZA(),s.TgZ(41,"li"),s.TgZ(42,"a",16),s.NdJ("click",function(){return t.changeTheme("blue-dark")}),s._uU(43,"10"),s.qZA(),s.qZA(),s.TgZ(44,"li"),s.TgZ(45,"a",17),s.NdJ("click",function(){return t.changeTheme("purple-dark")}),s._uU(46,"11"),s.qZA(),s.qZA(),s.TgZ(47,"li"),s.TgZ(48,"a",18),s.NdJ("click",function(){return t.changeTheme("megna-dark")}),s._uU(49,"12"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA())},styles:["#themecolors[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var Z=i(73071),f=i(70162);function m(e,t){if(1&e&&s._UZ(0,"img",22),2&e){const e=s.oxw();s.Q6J("src",e.user.imageUrl,s.LSH)}}function v(e,t){if(1&e&&s._UZ(0,"img",22),2&e){const e=s.oxw();s.Q6J("src",e.imgTemp,s.LSH)}}let T=(()=>{class e{constructor(e,t,i){this.fb=e,this.userService=t,this.fileUploadService=i,this.imgTemp="",this.user=this.userService.user}ngOnInit(){this.profileForm=this.fb.group({name:[this.user.name,o.kI.required],email:[this.user.email,[o.kI.required,o.kI.email]]}),this.user.google&&this.profileForm.get("email").disable()}updateProfile(){this.userService.updateProfile(this.profileForm.getRawValue()).subscribe({next:()=>{const{name:e,email:t}=this.profileForm.getRawValue();this.user.name=e,this.user.email=t,Swal.fire("Saved","Changes saved successfull","success")},error:e=>{console.log(e),Swal.fire("Error",e.error.msg,"error")}})}changeImage(e){if(this.imageUpload=e,!e)return this.imgTemp=null;const t=new FileReader;t.readAsDataURL(e),t.onloadend=()=>{this.imgTemp=t.result}}uploadImage(){this.fileUploadService.updatePhoto(this.imageUpload,"users",this.user._id).then(e=>{this.user.img=e,Swal.fire("Saved","Image updated successfull","success")}).catch(e=>{Swal.fire("Error","Error updating the image","error")})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.qu),s.Y36(Z.K),s.Y36(f.J))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-profile"]],decls:42,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","formControlName","name","id","exampleInputuname","placeholder","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","formControlName","email","id","exampleInputEmail1","placeholder","Enter email",1,"form-control"],["type","submit",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],[1,"text-center"],["class","img-avatar",3,"src",4,"ngIf"],["type","file","name","","id","",3,"change"],["type","button",1,"btn","btn-success","btn-block","waves-effect","waves-light","m-r-10",3,"disabled","click"],[1,"img-avatar",3,"src"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"My profile"),s.qZA(),s.TgZ(6,"h6",5),s._uU(7,"settings"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("ngSubmit",function(){return t.updateProfile()}),s.TgZ(9,"div",7),s.TgZ(10,"label",8),s._uU(11,"Name"),s.qZA(),s.TgZ(12,"div",9),s.TgZ(13,"div",10),s._UZ(14,"i",11),s.qZA(),s._UZ(15,"input",12),s.qZA(),s.qZA(),s.TgZ(16,"div",7),s.TgZ(17,"label",13),s._uU(18,"Email"),s.qZA(),s.TgZ(19,"div",9),s.TgZ(20,"div",10),s._UZ(21,"i",14),s.qZA(),s._UZ(22,"input",15),s.qZA(),s.qZA(),s.TgZ(23,"button",16),s._UZ(24,"i",17),s._uU(25," Save Changes "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(26,"div",1),s.TgZ(27,"div",2),s.TgZ(28,"div",3),s.TgZ(29,"h4",4),s._uU(30,"My profile"),s.qZA(),s.TgZ(31,"h6",5),s._uU(32,"settings"),s.qZA(),s.TgZ(33,"div",18),s.YNc(34,m,1,1,"img",19),s.YNc(35,v,1,1,"img",19),s.qZA(),s.TgZ(36,"input",20),s.NdJ("change",function(e){return t.changeImage(e.target.files[0])}),s.qZA(),s._UZ(37,"br"),s._UZ(38,"br"),s.TgZ(39,"button",21),s.NdJ("click",function(){return t.uploadImage()}),s._UZ(40,"i",17),s._uU(41," Change image "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(8),s.Q6J("formGroup",t.profileForm),s.xp6(15),s.Q6J("disabled",t.profileForm.invalid),s.xp6(11),s.Q6J("ngIf",!t.imgTemp),s.xp6(1),s.Q6J("ngIf",t.imgTemp),s.xp6(4),s.Q6J("disabled",!t.imageUpload))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,n.O5],styles:[""]}),e})();var A=i(76889),b=i(19162),q=i(31776),U=i(83864),w=i(43901),_=i(98853),x=i(19607),y=i(85994),k=["addListener","removeListener"],I=["addEventListener","removeEventListener"],S=["on","off"];function J(e,t,i,s){if((0,_.m)(i)&&(s=i,i=void 0),s)return J(e,t,i).pipe((0,x.Z)(s));var r=(0,b.CR)(function(e){return(0,_.m)(e.addEventListener)&&(0,_.m)(e.removeEventListener)}(e)?I.map(function(s){return function(r){return e[s](t,r,i)}}):function(e){return(0,_.m)(e.addListener)&&(0,_.m)(e.removeListener)}(e)?k.map(C(e,t)):function(e){return(0,_.m)(e.on)&&(0,_.m)(e.off)}(e)?S.map(C(e,t)):[],2),n=r[0],o=r[1];if(!n&&(0,w.z)(e))return(0,U.z)(function(e){return J(e,t,i)})((0,y.h)(e));if(!n)throw new TypeError("Invalid event target");return new q.y(function(e){var t=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return e.next(1<t.length?t:t[0])};return n(t),function(){return o(t)}})}function C(e,t){return function(i){return function(s){return e[i](t,s)}}}var N=function(e){function t(t,i){return e.call(this)||this}return(0,b.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(i(98839).w0),H={setInterval:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var i=H.delegate;return((null==i?void 0:i.setInterval)||setInterval).apply(void 0,(0,b.ev)([],(0,b.CR)(e)))},clearInterval:function(e){var t=H.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},O=i(85850),$=function(e){function t(t,i){var s=e.call(this,t,i)||this;return s.scheduler=t,s.work=i,s.pending=!1,s}return(0,b.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this},t.prototype.requestAsyncId=function(e,t,i){return void 0===i&&(i=0),H.setInterval(e.flush.bind(e,this),i)},t.prototype.recycleAsyncId=function(e,t,i){if(void 0===i&&(i=0),null!=i&&this.delay===i&&!1===this.pending)return t;H.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var i,s=!1;try{this.work(e)}catch(r){s=!0,i=!!r&&r||new Error(r)}if(s)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,i=this.scheduler,s=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,O.P)(s,this),null!=t&&(this.id=this.recycleAsyncId(i,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(N),Q={now:function(){return(Q.delegate||Date).now()},delegate:void 0},Y=function(){function e(t,i){void 0===i&&(i=e.now),this.schedulerActionCtor=t,this.now=i}return e.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},e.now=Q.now,e}(),M=new(function(e){function t(t,i){void 0===i&&(i=Y.now);var s=e.call(this,t,i)||this;return s.actions=[],s._active=!1,s._scheduled=void 0,s}return(0,b.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},t}(Y))($),F=M,D=i(54297),L=i(95076);function E(e,t){return void 0===t&&(t=M),(0,D.e)(function(i,s){var r=null,n=null,o=null,a=function(){if(r){r.unsubscribe(),r=null;var e=n;n=null,s.next(e)}};function c(){var i=o+e,n=t.now();if(n<i)return r=this.schedule(void 0,i-n),void s.add(r);a()}i.subscribe(new L.Q(s,function(i){n=i,o=t.now(),r||(r=t.schedule(c,e),s.add(r))},function(){a(),s.complete()},void 0,function(){n=r=null}))})}var P=i(52738);function R(e,t){return void 0===t&&(t=P.y),e=null!=e?e:G,(0,D.e)(function(i,s){var r,n=!0;i.subscribe(new L.Q(s,function(i){var o=t(i);(n||!e(r,o))&&(n=!1,r=o,s.next(i))}))})}function G(e,t){return e===t}var B=i(25755),X=i(29044),j=i(74294),z=i(86186),V=i(5207);function K(e,t){return t?function(i){return(0,X.z)(t.pipe((0,j.q)(1),(0,D.e)(function(e,t){e.subscribe(new L.Q(t,z.Z))})),i.pipe(K(e)))}:(0,U.z)(function(t,i){return e(t,i).pipe((0,j.q)(1),function(e){return(0,V.U)(function(){return e})}(t))})}var W=i(65097);function ee(e,t){void 0===t&&(t=M);var i=function(e,t,i){void 0===e&&(e=0),void 0===i&&(i=F);var s=-1;return null!=t&&((0,W.K)(t)?i=t:s=t),new q.y(function(t){var r=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-i.now():e;r<0&&(r=0);var n=0;return i.schedule(function(){t.closed||(t.next(n++),0<=s?this.schedule(void 0,s):t.complete())},r)})}(e,t);return K(function(){return i})}var te=i(92340),ie=i(84872),se=i(91841);const re=te.N.base_url;let ne=(()=>{class e{constructor(e){this.http=e}getToken(){return localStorage.getItem("token")}get headers(){return{headers:{"x-token":this.getToken()}}}transformUsers(e){return e.map(e=>new ie.n(e.name,e.email,"",e.google,e.role,e._id,e.img))}globalSearch(e){return this.http.get(`${re}/all/${e}`,this.headers)}search(e,t){return this.http.get(`${re}/all/collection/${e}/${t}`,this.headers).pipe((0,V.U)(t=>{switch(e){case"users":return this.transformUsers(t.results);case"hospitals":case"doctors":return t.results}}),E(3e3))}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(se.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var oe=i(71609);let ae=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-loader"]],decls:8,vars:0,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"h4",3),s._uU(4,"Loading"),s.qZA(),s._UZ(5,"i",4),s.TgZ(6,"p",5),s._uU(7,"Please wait"),s.qZA(),s.qZA(),s.qZA(),s.qZA())},encapsulation:2}),e})();const ce=["searchInput"];function le(e,t){1&e&&s._UZ(0,"app-loader")}function ue(e,t){1&e&&(s.TgZ(0,"span",25),s._uU(1,"Google"),s.qZA())}function de(e,t){1&e&&(s.TgZ(0,"span",26),s._uU(1,"Email"),s.qZA())}function ge(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"a",27),s.NdJ("click",function(){s.CHM(e);const t=s.oxw().$implicit;return s.oxw(2).deleteUser(t)}),s._UZ(1,"i",28),s.qZA()}}function he(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",16),s.TgZ(2,"img",17),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).showModal(t)}),s.qZA(),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.TgZ(7,"td"),s.TgZ(8,"select",18),s.NdJ("ngModelChange",function(t){return s.CHM(e).$implicit.role=t})("change",function(){const t=s.CHM(e).$implicit;return s.oxw(2).changeRole(t)}),s.TgZ(9,"option",19),s._uU(10,"Admin"),s.qZA(),s.TgZ(11,"option",20),s._uU(12,"User"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"td"),s.YNc(14,ue,2,0,"span",21),s.YNc(15,de,2,0,"span",22),s.qZA(),s.TgZ(16,"td",23),s.YNc(17,ge,2,0,"a",24),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit,i=s.oxw(2);s.xp6(2),s.Q6J("src",e.imageUrl,s.LSH),s.xp6(2),s.Oqu(e.email),s.xp6(2),s.Oqu(e.name),s.xp6(2),s.Q6J("ngModel",e.role),s.xp6(6),s.Q6J("ngIf",e.google),s.xp6(1),s.Q6J("ngIf",!e.google),s.xp6(2),s.Q6J("ngIf",e._id!==i.userId)}}function pe(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",29),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).changePage(-5)}),s._uU(2,"Previous"),s.qZA(),s._uU(3," \xa0 "),s.TgZ(4,"button",29),s.NdJ("click",function(){return s.CHM(e),s.oxw(2).changePage(5)}),s._uU(5,"Next"),s.qZA(),s.qZA()}}function Ze(e,t){if(1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",8),s._uU(5),s.qZA(),s.TgZ(6,"h6",9),s._uU(7,"Users registered on App"),s.qZA(),s.TgZ(8,"div",10),s.TgZ(9,"table",11),s.TgZ(10,"thead"),s.TgZ(11,"tr"),s.TgZ(12,"th",12),s._uU(13,"Avatar"),s.qZA(),s.TgZ(14,"th"),s._uU(15,"Email"),s.qZA(),s.TgZ(16,"th"),s._uU(17,"Name"),s.qZA(),s.TgZ(18,"th",13),s._uU(19,"Role"),s.qZA(),s.TgZ(20,"th"),s._uU(21,"Auth"),s.qZA(),s.TgZ(22,"th",14),s._uU(23,"Action"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(24,"tbody"),s.YNc(25,he,18,7,"tr",15),s.qZA(),s.qZA(),s.qZA(),s.YNc(26,pe,6,0,"div",6),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw(),t=s.MAs(5);s.xp6(5),s.hij("Users (",e.totalUsers,")"),s.xp6(20),s.Q6J("ngForOf",e.users),s.xp6(1),s.Q6J("ngIf",0===t.value.length)}}let fe=(()=>{class e{constructor(e,t,i){this.userService=e,this.searchService=t,this.modalService=i,this.totalUsers=0,this.users=[],this.usersTemp=[],this.from=0,this.loading=!0,this.ngUnsubscribe=new A.x}get userId(){return this.userService._id}ngOnInit(){this.loadUsers(),this.searchObs$=J(this.searchInput.nativeElement,"keyup").pipe(E(1e3),R(),(0,B.R)(this.ngUnsubscribe)),this.searchObs$.subscribe(()=>{this.search(this.searchInput.nativeElement.value)}),this.modalService.newImage.pipe((0,B.R)(this.ngUnsubscribe),ee(100)).subscribe(()=>{this.loadUsers()})}loadUsers(){this.loading=!0,this.userService.loadUsers(this.from).subscribe(({total:e,users:t})=>{this.totalUsers=e,this.usersTemp=t,this.users=t,this.loading=!1})}changePage(e){this.from+=e,this.from<0?this.from=0:this.from>this.totalUsers&&(this.from-=e),this.loadUsers()}search(e){0!==e.length?this.searchService.search("users",e).subscribe(e=>{this.users=e}):this.users=this.usersTemp}deleteUser(e){e._id!==this.userService._id&&Swal.fire({title:"Delete User",text:`The user ${e.name} will be deleted!`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.userService.deleteUser(e).pipe((0,B.R)(this.ngUnsubscribe)).subscribe(t=>{Swal.fire("User deleted",`${e.name} deleted successfull`,"success"),this.loadUsers()})})}changeRole(e){this.userService.saveUser(e).pipe((0,B.R)(this.ngUnsubscribe)).subscribe(e=>{})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.complete()}showModal(e){this.modalService.showModal(!0,"users",e._id,e.img)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Z.K),s.Y36(ne),s.Y36(oe.Z))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-users"]],viewQuery:function(e,t){if(1&e&&s.Gf(ce,7),2&e){let e;s.iGM(e=s.CRH())&&(t.searchInput=e.first)}},decls:8,vars:2,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search User",1,"form-control"],["searchInput",""],[4,"ngIf"],["class","row animated fadeIn fast",4,"ngIf"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"w140"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center"],["alt","User image",1,"avatar","cursor",3,"src","click"],[3,"ngModel","ngModelChange","change"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-danger",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","class","cursor","data-original-title","Close",3,"click",4,"ngIf"],[1,"label","label-danger"],[1,"label","label-info"],["data-toggle","tooltip","data-original-title","Close",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"input",4,5),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,le,1,0,"app-loader",6),s.YNc(7,Ze,27,3,"div",7)),2&e&&(s.xp6(6),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("ngIf",!t.loading))},directives:[n.O5,ae,n.sg,o.EJ,o.JJ,o.On,o.YN,o.Kr],styles:[""]}),e})();var me=i(64762);const ve=te.N.base_url;let Te=(()=>{class e{constructor(e){this.http=e}get headers(){return{headers:{"x-token":this.getToken()}}}getToken(){return localStorage.getItem("token")}loadHopitals(){return this.http.get(`${ve}/hospitals`,this.headers).pipe((0,V.U)(e=>e.hospitals))}createHopitals(e){return this.http.post(`${ve}/hospitals`,{name:e},this.headers)}updateHopitals(e,t){return this.http.put(`${ve}/hospitals/${e}`,{name:t},this.headers)}deleteHopitals(e){return this.http.delete(`${ve}/hospitals/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(se.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ae=te.N.base_url;let be=(()=>{class e{transform(e,t){return e?e.includes("https")?e:e?`${Ae}/upload/${t}/${e}`:`${Ae}/upload/${t}/no-image`:`${Ae}/upload/${t}/no-image`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"image",type:e,pure:!0}),e})();const qe=["searchHospital"];function Ue(e,t){1&e&&s._UZ(0,"app-loader")}function we(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",21),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).showModal(t)}),s._UZ(2,"img",22),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s.TgZ(5,"input",23),s.NdJ("ngModelChange",function(t){return s.CHM(e).$implicit.name=t}),s.qZA(),s.qZA(),s.TgZ(6,"td",24),s.TgZ(7,"a",25),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).saveHospital(t)}),s._UZ(8,"i",26),s.qZA(),s.TgZ(9,"a",27),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).deleteHospital(t)}),s._UZ(10,"i",28),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,2,e.img,"hospitals"),s.LSH),s.xp6(3),s.Q6J("ngModel",e.name)}}function _e(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",8),s.TgZ(5,"div",9),s.TgZ(6,"h4",10),s._uU(7),s.qZA(),s.TgZ(8,"h6",11),s._uU(9,"Hospitals registered on App"),s.qZA(),s.qZA(),s.TgZ(10,"div",12),s.TgZ(11,"div",13),s.TgZ(12,"button",14),s.NdJ("click",function(){return s.CHM(e),s.oxw().openCreateHospitalModal()}),s._UZ(13,"i",15),s._uU(14," Create hospital "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",16),s.TgZ(16,"table",17),s.TgZ(17,"thead"),s.TgZ(18,"tr"),s.TgZ(19,"th",18),s._uU(20,"Photo"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Name"),s.qZA(),s.TgZ(23,"th",19),s._uU(24,"Action"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,we,11,5,"tr",20),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=s.oxw();s.xp6(7),s.hij("Hospitals (",e.hospitals.length,")"),s.xp6(19),s.Q6J("ngForOf",e.hospitals)}}let xe=(()=>{class e{constructor(e,t,i){this.hospitalService=e,this.modalService=t,this.searchService=i,this.hospitals=[],this.hospitalsTem=[],this.loading=!0,this.ngUnsubscribe=new A.x}ngOnInit(){this.loadHospitals(),this.searchSubs$=J(this.searchHospital.nativeElement,"keyup").pipe(E(1e3),R(),(0,B.R)(this.ngUnsubscribe)),this.searchSubs$.subscribe(()=>this.search(this.searchHospital.nativeElement.value)),this.modalService.newImage.pipe((0,B.R)(this.ngUnsubscribe),ee(100)).subscribe(()=>this.loadHospitals())}loadHospitals(){this.loading=!0,this.hospitalService.loadHopitals().pipe((0,B.R)(this.ngUnsubscribe)).subscribe(e=>{this.loading=!1,this.hospitals=e,this.hospitalsTem=e})}saveHospital(e){this.hospitalService.updateHopitals(e._id,e.name).subscribe(t=>{Swal.fire("Updated",e.name,"success")})}deleteHospital(e){Swal.fire({title:"Are you sure?",text:`The hospital ${e.name} will be deleted`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.hospitalService.deleteHopitals(e._id).subscribe(t=>{this.loadHospitals(),Swal.fire("Deleted!",`${e.name} has been deleted.`,"success")})})}openCreateHospitalModal(){return(0,me.mG)(this,void 0,void 0,function*(){const{value:e=""}=yield Swal.fire({title:"Add hospital",text:"Input the new Hospital",input:"text",inputPlaceholder:"Hospital",showCancelButton:!0});e.trim().length>0&&this.hospitalService.createHopitals(e).subscribe(e=>{this.hospitals.push(e.hospital)})})}showModal(e){this.modalService.showModal(!0,"hospitals",e._id,e.img)}search(e){0!==e.length?this.searchService.search("hospitals",e).subscribe(e=>{this.hospitals=e}):this.hospitals=this.hospitalsTem}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Te),s.Y36(oe.Z),s.Y36(ne))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-hospitals"]],viewQuery:function(e,t){if(1&e&&s.Gf(qe,7),2&e){let e;s.iGM(e=s.CRH())&&(t.searchHospital=e.first)}},decls:8,vars:2,consts:[[1,"row","animated","fadeIn","dats"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search Hospital",1,"form-control"],["searchHospital",""],[4,"ngIf"],["class","row animated fadeIn dats",4,"ngIf"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],[1,"fa","fa-hospital-o"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap","w100"],[4,"ngFor","ngForOf"],[1,"text-center",3,"click"],["alt","hospital.name",1,"w100","cursor",3,"src"],["placeholder","Hospital name","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"text-nowrap","text-center"],["data-toggle","tooltip","data-original-title","Save",3,"click"],[1,"fa","fa-pencil","text-inverse","m-r-10","cursor"],["data-toggle","tooltip","data-original-title","Close",3,"click"],[1,"fa","fa-close","text-danger","cursor"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"input",4,5),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,Ue,1,0,"app-loader",6),s.YNc(7,_e,27,2,"div",7)),2&e&&(s.xp6(6),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("ngIf",!t.loading))},directives:[n.O5,ae,n.sg,o.Fj,o.JJ,o.On],pipes:[be],styles:[""]}),e})();const ye=te.N.base_url;let ke=(()=>{class e{constructor(e){this.http=e}get headers(){return{headers:{"x-token":this.getToken()}}}getToken(){return localStorage.getItem("token")}loadDoctors(){return this.http.get(`${ye}/doctors`,this.headers).pipe((0,V.U)(e=>e.doctors))}loadDoctor(e){return this.http.get(`${ye}/doctors/${e}`,this.headers).pipe((0,V.U)(e=>e.doctor))}createDoctor(e){return this.http.post(`${ye}/doctors`,e,this.headers)}updateDoctor(e){return this.http.put(`${ye}/doctors/${e._id}`,e,this.headers)}deleteDoctor(e){return this.http.delete(`${ye}/doctors/${e}`,this.headers)}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(se.eN))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Ie=i(77289);const Se=["searchDr"];function Je(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",7),s.TgZ(3,"h4",8),s._uU(4,"Loading"),s.qZA(),s._UZ(5,"i",9),s.TgZ(6,"p",10),s._uU(7,"Please wait"),s.qZA(),s.qZA(),s.qZA(),s.qZA())}const Ce=function(e){return["/dashboard/doctor",e]};function Ne(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"td",24),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).showModal(t)}),s._UZ(2,"img",25),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.TgZ(6,"td",26),s.TgZ(7,"a",27),s._UZ(8,"i",28),s.qZA(),s.TgZ(9,"a",29),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).deleteDoctor(t)}),s._UZ(10,"i",30),s.qZA(),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,e.img,"doctors"),s.LSH),s.xp6(3),s.Oqu(e.name),s.xp6(2),s.Q6J("routerLink",s.VKq(6,Ce,e._id))}}function He(e,t){if(1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"div",11),s.TgZ(5,"div",12),s.TgZ(6,"h4",13),s._uU(7),s.qZA(),s.TgZ(8,"h6",14),s._uU(9,"Doctors registered on App"),s.qZA(),s.qZA(),s.TgZ(10,"div",15),s.TgZ(11,"div",16),s.TgZ(12,"a",17),s._UZ(13,"i",18),s._uU(14," Create doctor "),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",19),s.TgZ(16,"table",20),s.TgZ(17,"thead"),s.TgZ(18,"tr"),s.TgZ(19,"th",21),s._uU(20,"Photo"),s.qZA(),s.TgZ(21,"th"),s._uU(22,"Name"),s.qZA(),s.TgZ(23,"th",22),s._uU(24,"Action"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"tbody"),s.YNc(26,Ne,11,8,"tr",23),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(7),s.hij("Doctors (",e.doctors.length,")"),s.xp6(19),s.Q6J("ngForOf",e.doctors)}}let Oe=(()=>{class e{constructor(e,t,i){this.doctorService=e,this.searchService=t,this.modalService=i,this.doctors=[],this.doctorsTemp=[],this.ngUnsubscribe=new A.x,this.loading=!0}ngOnInit(){this.loadDoctors(),this.searchDr$=J(this.searchDr.nativeElement,"keyup").pipe(E(1e3),R(),(0,B.R)(this.ngUnsubscribe)),this.searchDr$.subscribe(()=>{this.search(this.searchDr.nativeElement.value)}),this.modalService.newImage.pipe((0,B.R)(this.ngUnsubscribe),ee(100)).subscribe(()=>this.loadDoctors())}loadDoctors(){this.loading=!0,this.doctorService.loadDoctors().subscribe(e=>{this.doctors=e,this.doctorsTemp=e,this.loading=!1})}search(e){""!==e?this.searchService.search("doctors",e).subscribe(e=>{this.doctors=e}):this.doctors=this.doctorsTemp}showModal(e){this.modalService.showModal(!0,"doctors",e._id,e.img)}deleteDoctor(e){Swal.fire({title:"Are you sure?",text:`The doctor ${e.name} will be deleted`,icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.doctorService.deleteDoctor(e._id).subscribe(t=>{this.loadDoctors(),Swal.fire("Deleted!",`${e.name} has been deleted.`,"success")})})}ngOnDestroy(){this.ngUnsubscribe.next(null),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ke),s.Y36(ne),s.Y36(oe.Z))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-doctors"]],viewQuery:function(e,t){if(1&e&&s.Gf(Se,7),2&e){let e;s.iGM(e=s.CRH())&&(t.searchDr=e.first)}},decls:8,vars:2,consts:[[1,"row","animated","fadeIn","dats"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Search User",1,"form-control"],["searchDr",""],["class","row animated fadeIn dats",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],[1,"fa","fa-spin","fa-refresh","fa-2x"],[1,"mb-0"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col"],[1,"text-right"],["routerLink","/dashboard/doctor/new",1,"btn","btn-primary"],[1,"fa","fa-stethoscope"],[1,"table-responsive"],[1,"table","table-bordered"],[1,"w100"],[1,"text-nowrap"],[4,"ngFor","ngForOf"],[1,"text-center",3,"click"],["alt","doctor.name",1,"w100","cursor",3,"src"],[1,"text-nowrap","w200","text-center"],["data-original-title","Edit",3,"routerLink"],[1,"fa","fa-pencil","text-inverse","m-r-10"],["data-toggle","tooltip","data-original-title","Close",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s._UZ(4,"input",4,5),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(6,Je,8,0,"div",6),s.YNc(7,He,27,2,"div",6)),2&e&&(s.xp6(6),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("ngIf",!t.loading))},directives:[n.O5,Ie.yS,n.sg],pipes:[be],styles:[""]}),e})();function $e(e,t){if(1&e&&(s.TgZ(0,"div",8),s.TgZ(1,"label",9),s._uU(2,"Photo"),s.qZA(),s.TgZ(3,"div",10),s._UZ(4,"img",21),s.ALo(5,"image"),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(4),s.Q6J("src",s.xi3(5,1,e.selectedDoctor.img,"doctors"),s.LSH)}}function Qe(e,t){if(1&e&&(s.TgZ(0,"option",22),s._uU(1),s.qZA()),2&e){const e=t.$implicit;s.Q6J("value",e._id),s.xp6(1),s.Oqu(e.name)}}function Ye(e,t){if(1&e&&(s.TgZ(0,"div",1),s.TgZ(1,"div",2),s.TgZ(2,"div",3),s.TgZ(3,"h4",4),s._uU(4,"Hospital"),s.qZA(),s.TgZ(5,"h6",5),s._uU(6),s.qZA(),s._UZ(7,"img",23),s.ALo(8,"image"),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(6),s.Oqu(e.selecteHospital.name),s.xp6(1),s.Q6J("src",s.xi3(8,3,e.selecteHospital.img,"hospitals"),s.LSH)("alt",e.selecteHospital.name)}}let Me=(()=>{class e{constructor(e,t,i,s,r){this.fb=e,this.hospitalService=t,this.doctorService=i,this.router=s,this.activatedRoute=r,this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({id:e})=>this.loadDoctor(e)),this.doctorForm=this.fb.group({name:["",o.kI.required],hospital:["",o.kI.required]}),this.loadHospitals(),this.doctorForm.get("hospital").valueChanges.subscribe(e=>{this.selecteHospital=this.hospitals.find(t=>t._id===e)})}loadDoctor(e){"new"!==e&&this.doctorService.loadDoctor(e).pipe(ee(100)).subscribe({next:e=>{const{name:t,hospital:{_id:i}}=e;this.selectedDoctor=e,this.doctorForm.setValue({name:t,hospital:i})},error:()=>{this.router.navigateByUrl("/dashboard/doctors")}})}loadHospitals(){this.hospitalService.loadHopitals().subscribe(e=>{this.hospitals=e})}saveDoctor(){const{name:e}=this.doctorForm.value;if(this.selectedDoctor){const t=Object.assign(Object.assign({},this.doctorForm.value),{_id:this.selectedDoctor._id});this.doctorService.updateDoctor(t).subscribe(t=>{Swal.fire("Updated",`${e} updated successfull`,"success")})}else this.doctorService.createDoctor(this.doctorForm.value).subscribe(t=>{Swal.fire("Created",`${e} created successfull`,"success"),this.router.navigateByUrl(`/dashboard/doctor/${t.doctor._id}`)})}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.qu),s.Y36(Te),s.Y36(ke),s.Y36(Ie.F0),s.Y36(Ie.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-doctor"]],decls:29,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","formControlName","name","id","exampleInputuname","placeholder","doctor's name",1,"form-control"],["for","exampleInputEmail1"],["formControlName","hospital","name","","id","",1,"form-control"],["disabled","","value",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"fa","fa-save"],["class","col-md-6",4,"ngIf"],["alt","",1,"w140",3,"src"],[3,"value"],[1,"w140",3,"src","alt"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h4",4),s._uU(5,"Doctor"),s.qZA(),s.TgZ(6,"h6",5),s._uU(7,"Information"),s.qZA(),s.TgZ(8,"form",6),s.NdJ("ngSubmit",function(){return t.saveDoctor()}),s.YNc(9,$e,6,4,"div",7),s.TgZ(10,"div",8),s.TgZ(11,"label",9),s._uU(12,"Name"),s.qZA(),s.TgZ(13,"div",10),s.TgZ(14,"div",11),s._UZ(15,"i",12),s.qZA(),s._UZ(16,"input",13),s.qZA(),s.qZA(),s.TgZ(17,"div",8),s.TgZ(18,"label",14),s._uU(19,"Hospital"),s.qZA(),s.TgZ(20,"div",10),s.TgZ(21,"select",15),s.TgZ(22,"option",16),s._uU(23,"Select hospital"),s.qZA(),s.YNc(24,Qe,2,2,"option",17),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"button",18),s._UZ(26,"i",19),s._uU(27," Save"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.YNc(28,Ye,9,6,"div",20),s.qZA()),2&e&&(s.xp6(8),s.Q6J("formGroup",t.doctorForm),s.xp6(1),s.Q6J("ngIf",t.selectedDoctor),s.xp6(15),s.Q6J("ngForOf",t.hospitals),s.xp6(1),s.Q6J("disabled",t.doctorForm.invalid),s.xp6(3),s.Q6J("ngIf",t.selecteHospital))},directives:[o._Y,o.JL,o.sg,n.O5,o.Fj,o.JJ,o.u,o.EJ,o.YN,o.Kr,n.sg],pipes:[be],styles:[""]}),e})();function Fe(e,t){1&e&&(s.TgZ(0,"div",6),s.TgZ(1,"p"),s._uU(2,"Users don\xb4t found"),s.qZA(),s._UZ(3,"p",7),s.qZA())}function De(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._UZ(2,"img",11),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,e.img,"users"),s.LSH)("alt",e.name),s.xp6(3),s.Oqu(e.name)}}function Le(e,t){if(1&e&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,De,6,6,"tr",10),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(9),s.Q6J("ngForOf",e.users)}}function Ee(e,t){1&e&&(s.TgZ(0,"div",6),s.TgZ(1,"p"),s._uU(2,"Doctors don\xb4t found"),s.qZA(),s._UZ(3,"p",7),s.qZA())}function Pe(e,t){if(1&e){const e=s.EpF();s.TgZ(0,"tr",13),s.NdJ("click",function(){const t=s.CHM(e).$implicit;return s.oxw(2).goToMaintenance(t._id)}),s.TgZ(1,"td"),s._UZ(2,"img",11),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()}if(2&e){const e=t.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,e.img,"doctors"),s.LSH)("alt",e.name),s.xp6(3),s.Oqu(e.name)}}function Re(e,t){if(1&e&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,Pe,6,6,"tr",12),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(9),s.Q6J("ngForOf",e.doctors)}}function Ge(e,t){1&e&&(s.TgZ(0,"div",6),s.TgZ(1,"p"),s._uU(2,"Hospitals don\xb4t found"),s.qZA(),s._UZ(3,"p",7),s.qZA())}function Be(e,t){if(1&e&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._UZ(2,"img",11),s.ALo(3,"image"),s.qZA(),s.TgZ(4,"td"),s._uU(5),s.qZA(),s.qZA()),2&e){const e=t.$implicit;s.xp6(2),s.Q6J("src",s.xi3(3,3,e.img,"hospitals"),s.LSH)("alt",e.name),s.xp6(3),s.Oqu(e.name)}}function Xe(e,t){if(1&e&&(s.TgZ(0,"div",8),s.TgZ(1,"table",9),s.TgZ(2,"thead"),s.TgZ(3,"tr"),s.TgZ(4,"th"),s._uU(5,"Avatar"),s.qZA(),s.TgZ(6,"th"),s._uU(7,"Name"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"tbody"),s.YNc(9,Be,6,6,"tr",10),s.qZA(),s.qZA(),s.qZA()),2&e){const e=s.oxw();s.xp6(9),s.Q6J("ngForOf",e.hospitals)}}const je=[{path:"",component:r,data:{title:"Dashboard"}},{path:"progress",component:l,data:{title:"Progress"}},{path:"graph1",component:g,data:{title:"Graph"}},{path:"account-settings",component:p,data:{title:"Settings"}},{path:"profile",component:T,data:{title:"Profile"}},{path:"users",component:fe,data:{title:"Users"},canActivate:[(()=>{class e{constructor(e,t){this.userService=e,this.router=t}canActivate(e,t){if("ADMIN_ROLE"===this.userService.role)return!0;this.router.navigateByUrl("/dashboard")}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(Z.K),s.LFG(Ie.F0))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]},{path:"hospitals",component:xe,data:{title:"Hospitals"}},{path:"doctors",component:Oe,data:{title:"Doctors"}},{path:"doctor/:id",component:Me,data:{title:"Doctor"}},{path:"search/:term",component:(()=>{class e{constructor(e,t,i){this.activatedRoute=e,this.searchService=t,this.router=i,this.users=[],this.doctors=[],this.hospitals=[]}ngOnInit(){this.activatedRoute.params.subscribe(({term:e})=>{this.globalSearch(e)})}globalSearch(e){this.searchService.globalSearch(e).subscribe({next:e=>{this.users=e.users,this.hospitals=e.hospitals,this.doctors=e.doctors}})}goToMaintenance(e){this.router.navigateByUrl(`/dashboard/doctor/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Ie.gz),s.Y36(ne),s.Y36(Ie.F0))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-searchs"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"alert","alert-info"],[1,"mb-0"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"w75",3,"src","alt"],["class","cursor",3,"click",4,"ngFor","ngForOf"],[1,"cursor",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div",2),s.TgZ(3,"div",3),s.TgZ(4,"h3"),s._uU(5,"Users"),s.qZA(),s.YNc(6,Fe,4,0,"div",4),s.YNc(7,Le,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",1),s.TgZ(9,"div",2),s.TgZ(10,"div",3),s.TgZ(11,"h3"),s._uU(12,"Doctors"),s.qZA(),s.YNc(13,Ee,4,0,"div",4),s.YNc(14,Re,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",1),s.TgZ(16,"div",2),s.TgZ(17,"div",3),s.TgZ(18,"h3"),s._uU(19,"Hospitals"),s.qZA(),s.YNc(20,Ge,4,0,"div",4),s.YNc(21,Xe,10,1,"div",5),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(6),s.Q6J("ngIf",0===t.users.length),s.xp6(1),s.Q6J("ngIf",t.users.length>0),s.xp6(6),s.Q6J("ngIf",0===t.doctors.length),s.xp6(1),s.Q6J("ngIf",t.doctors.length>0),s.xp6(6),s.Q6J("ngIf",0===t.hospitals.length),s.xp6(1),s.Q6J("ngIf",t.hospitals.length>0))},directives:[n.O5,n.sg],pipes:[be],styles:[""]}),e})(),data:{title:"Searchs"}}];let ze=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[Ie.Bz.forChild(je)],Ie.Bz]}),e})()}}]);